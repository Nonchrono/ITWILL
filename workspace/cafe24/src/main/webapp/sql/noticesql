-- 1) 테이블 생성

create table notice(
 noticeno   int           not null  primary key -- 일련번호
,subject    varchar(255)    not null  -- 제목
,content    varchar(4000)   not null  -- 내용
,regdt      datetime    not null   -- 작성일
);


-- 2) 일련번호 시퀀스 생성

create sequence noticeno_seq;

select * from notice;

select noticeno, subject, content, regdt
from notice;


----------------------------------------------------------------------------------


SELECT *
FROM (
      SELECT bbsno, subject, wname, readcnt, grpno, ansnum, indent, regdt, (@rownum := @rownum + 1) as r
      FROM (
             SELECT bbsno, subject, wname, readcnt, grpno, ansnum, indent, regdt
             FROM tb_bbs
          ) AA, (SELECT @rownum := 0) AS CC
          ORDER BY grpno DESC, ansnum ASC
       ) BB
WHERE r >= 1  AND r <= 10;
