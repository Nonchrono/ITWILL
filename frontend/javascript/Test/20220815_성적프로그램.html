<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <title>성적프로그램.html</title>

        <style>
            #demo {
                text-align: center;
            }
        </style>
    </head>
    <body>

        <div id="demo"></div>

        <script>
            let uname= ["라일락","진달래","개나리","무궁화","홍길동"];
            let kor  = [100, 50, 95, 80, 60];
            let eng  = [100, 55, 95, 85, 40];
            let mat  = [100, 60, 35, 90, 30];
            let size = uname.length;
            let aver = [];

            // 평균
            for (let i = 0; i < size; i++) {
                aver[i] = parseInt((kor[i] + eng[i] + mat[i])/3);
            }

            // 등수
            let rank = [1, 1, 1, 1, 1];

            for (let i = 0; i < size; i++) {
                for (let j = 0; j < size; j++) {
                    if (aver[i] < aver[j]) {
                        rank[i] += 1;
                    }
                }
            }

            // 합격
            let pass = ["", "", "", "", ""];

            for (let i = 0; i < size; i++) {
                if (aver[i] > 70) {
                    if (kor[i] < 40 || eng[i] < 40 || mat[i] < 40) {
                        pass[i] = "재시험";
                    } else {
                        pass[i] = "합격";
                    }
                } else {
                    pass[i] = "불합격";
                }
            }

            // 별
            let star = ["", "", "", "", ""];

            for (let i = 0; i < size; i++) {
                for (let j = 0; j < parseInt((aver[i])/10); j++) {
                    star[i] += "☆";
                }
            }

            // 장학생
            let special = ["", "", "", "", ""];

            for (let i = 0; i < size; i++) {
                if (aver[i] > 90) {
                    special[i] = "장학생";
                }
            }

            let result = "<table border='1'>";
            result += "<tr>";
            result += "  <td>이름</td>";
            result += "  <td>국어</td>";
            result += "  <td>영어</td>";
            result += "  <td>수학</td>";
            result += "  <td>평균</td>";
            result += "  <td>등수</td>";
            result += "  <td colspan='3'>결과</td>";
            result += "</tr>";

            for (let i = 0; i < size; i++) {       
                result += "<tr>";
                result += "  <td>"+uname[i]+"</td>";
                result += "  <td>"+kor[i]+"</td>";
                result += "  <td>"+eng[i]+"</td>";
                result += "  <td>"+mat[i]+"</td>";
                result += "  <td>"+aver[i]+"</td>";
                result += "  <td>"+rank[i]+"</td>";
                result += "  <td>"+pass[i]+"</td>";
                result += "  <td>"+star[i]+"</td>";
                result += "  <td>"+special[i]+"</td>";
                result += "</tr>";
            }


            result += "</table>";

            document.getElementById("demo").innerHTML=result;

        </script>

    </body>
</html>